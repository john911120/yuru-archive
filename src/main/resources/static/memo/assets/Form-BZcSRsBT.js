import{d as c,j as p,o as f,k as b,c as v,a as w,e as o,l,v as d,i as y,u as x,m as N}from"./index-5A1N5hkN.js";import{S as M}from"./StorageService-wqSQj58F.js";const S={class:"mb-3"},g={class:"mb-3"},R=c({__name:"Form",setup(k){const m=new M("myMemo"),n=N(),i=x(),e=p({memo:{title:"",content:""}}),u=async()=>{"id"in e.memo?m.setItem(e.memo):m.addItem(e.memo),await n.replace({name:"memo-list"}),window.alert("登録又は修正しました。"),n.push({path:"/memos"})};function r(){const a=i.params.id;if(!a){e.memo={title:"",content:""};return}const t=Number(a);if(!Number.isNaN(t)){const s=m.getItem(t);s&&(e.memo={...s})}}return f(r),b(()=>i.params.id,r),(a,t)=>(w(),v("form",{class:"detail",onSubmit:y(u,["prevent"])},[o("div",S,[t[2]||(t[2]=o("label",{for:"title",class:"form-label"},"タイトル",-1)),l(o("input",{type:"text",id:"title",class:"form-control p-3","onUpdate:modelValue":t[0]||(t[0]=s=>e.memo.title=s)},null,512),[[d,e.memo.title]])]),o("div",g,[t[3]||(t[3]=o("label",{for:"content",class:"form-label"},"内容",-1)),l(o("textarea",{id:"content",class:"form-control p-3","onUpdate:modelValue":t[1]||(t[1]=s=>e.memo.content=s)},null,512),[[d,e.memo.content]])]),t[4]||(t[4]=o("button",{type:"submit",class:"btn btn-primary w-100 py-3"},"💾セーフする",-1))],32))}});export{R as default};
