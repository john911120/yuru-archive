### 💡 トラブルメモ: 「いいね」機能で地獄 250527
- Spring Securityのリダイレクト地獄
- fetch()のcredentials: "include" 抜けで403
- preventDefault()忘れて謎のページ遷移
- すべて解決し、平常通りに作動します。

## 🔒 未解決の課題：Answerの「いいね」数が反映されない問題(250527~250528)

### ✅ 症状
- 「いいね」ボタンをクリックすると、`answers_voter`テーブルには正常に反映される
- しかし、フロント画面上では数値が更新されない（常に1のまま）

### ✅ 試した対応策
1. `AnswerService.getAnswer()` → `findById()` による再取得に変更
2. `@Transactional` + `entityManager.flush()` を明示的に実行
3. `/voter-count` API によるAjax更新処理
4. `setTimeout()` を使ってトランザクションコミットを待つ
5. ログやDBのトレースをすべて確認済み

### 🔍 想定される原因
- JPAの永続コンテキストによるキャッシュの反映遅延
- トランザクションのコミットと取得のタイミングずれ
- `@ManyToMany` 関係の更新遅延
- Ajaxで取得するタイミングが早すぎて最新の値が取れない

---

📌 この課題は一時保留とします。  
🕰 日を改めて再検討・再挑戦する予定です。